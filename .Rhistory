filename <-
paste0(
"PG&E data/PGE_",
year,
"_Q",
quarter,
"_",
type,
"UsageByZip.csv"
)
print(filename)
temp <- read_csv(filename)
pge_20_elec <- rbind(pge_17_elec,temp)
# Note rbind requires field names to be consistent for every new thing that you add.
saveRDS(pge_17_elec, "pge_17_elec.rds")
}
library(tidyverse)
year <- 2017
quarters <- 1:4
type <- "Electric"
pge_17_elec <- NULL
for(quarter in quarters) {
filename <-
paste0(
"PG&E data/PGE_",
year,
"_Q",
quarter,
"_",
type,
"UsageByZip.csv"
)
print(filename)
temp <- read_csv(filename)
pge_17_elec <- rbind(pge_17_elec,temp)
# Note rbind requires field names to be consistent for every new thing that you add.
saveRDS(pge_17_elec, "pge_17_elec.rds")
}
library(tidyverse)
quarters <- 1:4
type <- "Electric"
pge_all_elec <- NULL
for(quarter in quarters) {
filename <-
paste0(
"PG&E data/PGE_",
quarter,
"_",
type,
"UsageByZip.csv"
)
print(filename)
temp <- read_csv(filename)
pge_all_elec <- rbind(pge_all_elec,temp)
# Note rbind requires field names to be consistent for every new thing that you add.
saveRDS(pge_all_elec, "pge_all_elec.rds")
}
library(tidyverse)
year1 <- 2017
year2 <- 2018
year3 <- 2019
year4 <- 2020
quarters <- 1:4
type <- "Electric"
pge_17_elec <- NULL
for(quarter in quarters) {
filename <-
paste0(
"PG&E data/PGE_",
year1,
"_Q",
quarter,
"_",
type,
"UsageByZip.csv"
)
for(quarter in quarters) {
filename <-
paste0(
"PG&E data/PGE_",
year2,
"_Q",
quarter,
"_",
type,
"UsageByZip.csv"
)
for(quarter in quarters) {
filename <-
paste0(
"PG&E data/PGE_",
year3,
"_Q",
quarter,
"_",
type,
"UsageByZip.csv"
)
for(quarter in quarters) {
filename <-
paste0(
"PG&E data/PGE_",
year4,
"_Q",
quarter,
"_",
type,
"UsageByZip.csv"
)
print(filename)
temp <- read_csv(filename)
pge_17_elec <- rbind(pge_17_elec,temp)
# Note rbind requires field names to be consistent for every new thing that you add.
saveRDS(pge_17_elec, "pge_17_elec.rds")
}
library(tidyverse)
year <- 2017
quarters <- 1:4
type <- "Electric"
pge_17_elec <- NULL
for(quarter in quarters) {
filename <-
paste0(
"PG&E data/PGE_",
year,
"_Q",
quarter,
"_",
type,
"UsageByZip.csv"
)
print(filename)
temp <- read_csv(filename)
pge_17_elec <- rbind(pge_17_elec,temp)
# Note rbind requires field names to be consistent for every new thing that you add.
write_csv(pge_17_elec, "pge_17_elec.csv")
}
library(tidyverse)
year <- 2018
quarters <- 1:4
type <- "Electric"
pge_18_elec <- NULL
for(quarter in quarters) {
filename <-
paste0(
"PG&E data/PGE_",
year,
"_Q",
quarter,
"_",
type,
"UsageByZip.csv"
)
print(filename)
temp <- read_csv(filename)
pge_18_elec <- rbind(pge_18_elec,temp)
# Note rbind requires field names to be consistent for every new thing that you add.
write_csv(pge_18_elec, "pge_18_elec.csv")
}
library(tidyverse)
year <- 2019
quarters <- 1:4
type <- "Electric"
pge_19_elec <- NULL
for(quarter in quarters) {
filename <-
paste0(
"PG&E data/PGE_",
year,
"_Q",
quarter,
"_",
type,
"UsageByZip.csv"
)
print(filename)
temp <- read_csv(filename)
pge_19_elec <- rbind(pge_19_elec,temp)
# Note rbind requires field names to be consistent for every new thing that you add.
write_csv(pge_19_elec, "pge_19_elec.csv")
}
library(tidyverse)
year <- 2020
quarters <- 1:4
type <- "Electric"
pge_20_elec <- NULL
for(quarter in quarters) {
filename <-
paste0(
"PG&E data/PGE_",
year,
"_Q",
quarter,
"_",
type,
"UsageByZip.csv"
)
print(filename)
temp <- read_csv(filename)
pge_20_elec <- rbind(pge_20_elec,temp)
# Note rbind requires field names to be consistent for every new thing that you add.
write_csv(pge_20_elec, "pge_20_elec.csv")
}
library(tidyverse)
quarters <- 17:20
type <- "elec"
pge_all_elec <- NULL
for(quarter in quarters) {
filename <-
paste0(
"pge_",
quarter,
"_",
type,
"UsageByZip.csv"
)
print(filename)
temp <- read_csv(filename)
pge_all_elec <- rbind(pge_all_elec,temp)
# Note rbind requires field names to be consistent for every new thing that you add.
saveRDS(pge_all_elec, "pge_all_elec.rds")
library(tidyverse)
quarters <- 17:20
type <- "elec"
pge_all_elec <- NULL
for(quarter in quarters) {
filename <-
paste0(
"pge_",
quarter,
"_",
type,
"UsageByZip.csv"
)
print(filename)
temp <- read_csv(filename)
pge_all_elec <- rbind(pge_all_elec,temp)
# Note rbind requires field names to be consistent for every new thing that you add.
saveRDS(pge_all_elec, "pge_all_elec.rds")
}
library(tidyverse)
quarters <- 17:20
type <- "elec"
pge_all_elec <- NULL
for(quarter in quarters) {
filename <-
paste0(
"pge_",
quarter,
"_",
type
)
print(filename)
temp <- read_csv(filename)
pge_all_elec <- rbind(pge_all_elec,temp)
# Note rbind requires field names to be consistent for every new thing that you add.
saveRDS(pge_all_elec, "pge_all_elec.rds")
}
library(tidyverse)
quarters <- 17:20
type <- "elec"
pge_all_elec <- NULL
for(quarter in quarters) {
filename <-
paste0(
"pge_",
quarter,
"_",
type,
".csv"
)
print(filename)
temp <- read_csv(filename)
pge_all_elec <- rbind(pge_all_elec,temp)
# Note rbind requires field names to be consistent for every new thing that you add.
saveRDS(pge_all_elec, "pge_all_elec.rds")
}
library(tidyverse)
quarters <- 17:20
type <- "elec"
pge_all_elec <- NULL
for(quarter in quarters) {
filename <-
paste0(
"pge_",
quarter,
"_",
type,
".csv"
)
print(filename)
temp <- read_csv(filename)
pge_all_elec <- rbind(pge_all_elec,temp)
# Note rbind requires field names to be consistent for every new thing that you add.
write_csv(pge_all_elec, "pge_all_elec.csv")
}
pge_1 <- read_csv('C:/Users/Sahil/Documents/School-Stanford/CEE 218X - Shaping the Future of the Bay Area/stadwalkar.github.io/pge_all_elec.csv')
pge_1 <- filter(pge_1, CUSTOMERCLASS %in% c("Elec- Residential","Elec- Commercial"))
pge_chart <-
pge_1 %>%
ggplot() +
geom_bar(
aes(
x = MONTH %>% factor(),
y = TOTALKWH,
fill = CUSTOMERCLASS
),
stat = "identity",
position = "stack"
) +
labs(
x = "Month",
y = "kWh",
title = "PG&E Territory Monthly Electricity Usage, 2019",
fill = "Electricity Type"
)
pge_chart
pge_1 <- read_csv('C:/Users/Sahil/Documents/School-Stanford/CEE 218X - Shaping the Future of the Bay Area/stadwalkar.github.io/pge_all_elec.csv')
pge_1 <- filter(pge_1, CUSTOMERCLASS %in% c("Elec- Residential","Elec- Commercial"))
pge_chart <-
pge_1 %>%
ggplot() +
geom_bar(
aes(
x = MONTH ,
y = TOTALKWH,
fill = CUSTOMERCLASS
),
stat = "identity",
position = "stack"
) +
labs(
x = "Month",
y = "kWh",
title = "PG&E Territory Monthly Electricity Usage, 2019",
fill = "Electricity Type"
)
pge_chart
pge_1 <- read_csv('C:/Users/Sahil/Documents/School-Stanford/CEE 218X - Shaping the Future of the Bay Area/stadwalkar.github.io/pge_all_elec.csv')
pge_1 <- filter(pge_1, CUSTOMERCLASS %in% c("Elec- Residential","Elec- Commercial"))
pge_chart <-
pge_1 %>%
ggplot() +
geom_bar(
aes(
x = YEAR,
y = TOTALKWH,
fill = CUSTOMERCLASS
),
stat = "identity",
position = "stack"
) +
labs(
x = "Month",
y = "kWh",
title = "PG&E Territory Monthly Electricity Usage, 2019",
fill = "Electricity Type"
)
pge_chart
pge_1 <- read_csv('C:/Users/Sahil/Documents/School-Stanford/CEE 218X - Shaping the Future of the Bay Area/stadwalkar.github.io/pge_all_elec.csv')
pge_1 <- filter(pge_1, CUSTOMERCLASS %in% c("Elec- Residential","Elec- Commercial"))
pge_chart <-
pge_1 %>%
ggplot() +
geom_bar(
aes(
x = YEAR, MONTH,
y = TOTALKWH,
fill = CUSTOMERCLASS
),
stat = "identity",
position = "stack"
) +
labs(
x = "Month",
y = "kWh",
title = "PG&E Territory Monthly Electricity Usage, 2019",
fill = "Electricity Type"
)
pge_1 <- read_csv('C:/Users/Sahil/Documents/School-Stanford/CEE 218X - Shaping the Future of the Bay Area/stadwalkar.github.io/pge_all_elec.csv')
pge_1 <- filter(pge_1, CUSTOMERCLASS %in% c("Elec- Residential","Elec- Commercial"))
pge_chart <-
pge_1 %>%
ggplot() +
geom_bar(
aes(
x = YEAR,
y = TOTALKWH,
fill = CUSTOMERCLASS
),
stat = "identity",
position = "stack"
) +
labs(
x = "Month",
y = "kWh",
title = "PG&E Territory Monthly Electricity Usage, 2019",
fill = "Electricity Type"
)
facet_grid(~group,scales='free')
pge_chart
library(tidyverse)
year <- 2017
quarters <- 1:4
type <- "Electric"
pge_17_elec <- NULL
for(quarter in quarters) {
filename <-
paste0(
"PG&E data/PGE_",
year,
"_Q",
quarter,
"_",
type,
"UsageByZip.csv"
)
print(filename)
temp <- read_csv(filename)
pge_17_elec <- rbind(pge_17_elec,temp)
# Note rbind requires field names to be consistent for every new thing that you add.
write_csv(pge_17_elec, "pge_17_elec.csv")
mutate(
DATE =
paste(
"YEAR",
"MONTH",
"01",
sep="-"
) %>% as.Date()
)
}
library(tidyverse)
year <- 2021
quarters <- 1:2
type <- "Electric"
pge_21_elec <- NULL
for(quarter in quarters) {
filename <-
paste0(
"PG&E data/PGE_",
year,
"_Q",
quarter,
"_",
type,
"UsageByZip.csv"
)
print(filename)
temp <- read_csv(filename)
pge_21_elec <- rbind(pge_21_elec,temp)
# Note rbind requires field names to be consistent for every new thing that you add.
write_csv(pge_21_elec, "pge_21_elec.csv")
}
library(tidyverse)
quarters <- 17:21
type <- "elec"
pge_all_elec <- NULL
for(quarter in quarters) {
filename <-
paste0(
"pge_",
quarter,
"_",
type,
".csv"
)
print(filename)
temp <- read_csv(filename)
pge_all_elec <- rbind(pge_all_elec,temp)
# Note rbind requires field names to be consistent for every new thing that you add.
write_csv(pge_all_elec, "pge_all_elec.csv")
}
pge_1 <- read_csv('C:/Users/Sahil/Documents/School-Stanford/CEE 218X - Shaping the Future of the Bay Area/stadwalkar.github.io/pge_all_elec.csv')
pge_1 <- filter(pge_1, CUSTOMERCLASS %in% c("Elec- Residential","Elec- Commercial"))
pge_chart <-
pge_1 %>%
ggplot() +
geom_bar(
aes(
x = YEAR,
y = TOTALKWH,
fill = CUSTOMERCLASS
),
stat = "identity",
position = "stack"
) +
labs(
x = "Month",
y = "kWh",
title = "PG&E Territory Monthly Electricity Usage, 2019",
fill = "Electricity Type"
)
library(tidyverse)
quarters <- 17:21
type <- "elec"
pge_all_elec <- NULL
for(quarter in quarters) {
filename <-
paste0(
"pge_",
quarter,
"_",
type,
".csv"
)
print(filename)
temp <- read_csv(filename)
pge_all_elec <- rbind(pge_all_elec,temp)
# Note rbind requires field names to be consistent for every new thing that you add.
write_csv(pge_all_elec, "pge_all_elec.csv")
}
